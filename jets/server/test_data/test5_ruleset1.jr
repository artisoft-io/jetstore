# =======================================================================================
# Data Model
# ---------------------------------------------------------------------------------------
class jets:Entity {
  $base_classes = [owl:Thing],
  $data_properties = [
    jets:key as text,
    rdf:type as array of resource
  ],
  $as_table = false
};

class acme:Claim {
  $base_classes = [jets:Entity],
  $data_properties = [
    acme:a as text,
    acme:b as text,
    acme:c as text,
    acme:d as text,
    acme:e as text,
    acme:f as text,
    acme:eCopy as text,
    acme:fCopy as text
  ],
  $as_table = true
};



[match01,o=false,s=100,flag="o=false"]: 
  (?c1   rdf:type acme:Claim).
  (?c1   acme:a          ?a).
  (?c1   acme:b          ?b).
  (?c1   acme:c          ?c).
  (?c1   acme:d          ?d).
  (?c1   acme:e          ?e).
  (?c1   acme:f          ?f).
  (?c1   _0:YN_ROWS      ?yn).
  (?yn   YES             "Y").
  (?yn   NO              "N").
  (?c1   _0:A_ROWS       ?ar).
  (?ar   UPPER_A         ?a).
  (?c2   rdf:type acme:Claim).
  (?c2   acme:d          ?d)
-> 
  (?c1   acme:eCopy      ?e).
  (?c1   acme:fCopy      ?f).
  (?c1   _0:matchesClaim ?c2)
;

@JetCompilerDirective extract_resources_from_rules = "true";
